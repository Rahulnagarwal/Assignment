(self.webpackChunkdoctors_portal=self.webpackChunkdoctors_portal||[]).push([[826],{3826:function(e,t,n){"use strict";n.r(t),n.d(t,{PatientModule:function(){return N}});var i=n(9635),a=n(9393),r=n(7368);let o=(()=>{class e{constructor(e){this.router=e}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(a.F0))},e.\u0275cmp=r.Xpm({type:e,selectors:[["cm-patiet-details"]],decls:23,vars:0,consts:[[1,"fees","view"],[1,"container"],[1,"glyphicon","glyphicon-user"],[1,"navbar"],[1,"nav","navbar-nav"],[1,"toolbar-item"],["routerLink","details","routerLinkActive","active"],[1,"glyphicon","glyphicon-list"],["routerLink","edit","routerLinkActive","active"],[1,"glyphicon","glyphicon-edit"],["routerLink","/patients"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"header"),r.TgZ(3,"h3"),r._UZ(4,"span",2),r._uU(5,"\xa0\xa0Patient Information"),r.qZA(),r.qZA(),r._UZ(6,"br"),r.TgZ(7,"div",3),r.TgZ(8,"ul",4),r.TgZ(9,"li",5),r.TgZ(10,"a",6),r._UZ(11,"span",7),r._uU(12,"\xa0\xa0Patient Details "),r.qZA(),r.qZA(),r.TgZ(13,"li",5),r.TgZ(14,"a",8),r._UZ(15,"span",9),r._uU(16,"\xa0\xa0Edit Patient "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(17,"div",1),r._UZ(18,"router-outlet"),r._UZ(19,"br"),r._UZ(20,"br"),r.TgZ(21,"a",10),r._uU(22,"View all Patients"),r.qZA(),r.qZA(),r.qZA(),r.qZA())},directives:[a.yS,a.Od,a.lC],encapsulation:2}),e})();var s=n(9960),l=n(1116),d=n(8927);function c(e,t){if(1&e&&(r.TgZ(0,"div",3),r.TgZ(1,"div",4),r._UZ(2,"img",5),r.ALo(3,"lowercase"),r.qZA(),r.TgZ(4,"div",6),r.TgZ(5,"h4"),r._uU(6),r.ALo(7,"capitalize"),r.ALo(8,"capitalize"),r.qZA(),r._UZ(9,"br"),r._uU(10),r._UZ(11,"br"),r._uU(12),r._UZ(13,"br"),r._uU(14),r._UZ(15,"br"),r._uU(16),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(2),r.MGl("src","assets/images/",r.lcZ(3,7,e.patient.gender),".png",r.LSH),r.xp6(4),r.AsE(" ",r.lcZ(7,9,e.patient.firstName)," ",r.lcZ(8,11,e.patient.lastName),"\xa0 "),r.xp6(4),r.hij(" Age: ",e.patient.age," "),r.xp6(2),r.hij(" Mobile Number: ",e.patient.mobile," "),r.xp6(2),r.hij(" Email: ",e.patient.email," "),r.xp6(2),r.hij(" Address: ",e.patient.address," ")}}function g(e,t){1&e&&(r.TgZ(0,"div",0),r._uU(1," No patient found\n"),r.qZA())}let p=(()=>{class e{constructor(e,t,n){this.route=e,this.dataService=t,this.componentFactoryResolver=n}ngOnInit(){this.route.parent.params.subscribe(e=>{const t=e.patientID;console.log("PatientID",t),t&&this.dataService.getPatient(t).subscribe(e=>{this.patient=e})})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(a.gz),r.Y36(s.D),r.Y36(r._Vd))},e.\u0275cmp=r.Xpm({type:e,selectors:[["cm-patient-details"]],decls:5,vars:2,consts:[[1,"container"],["class","row",4,"ngIf"],["class","container",4,"ngIf"],[1,"row"],[1,"col-md-2"],[1,"details-image",3,"src"],[1,"col-md-10"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.YNc(1,c,17,13,"div",1),r._UZ(2,"br"),r._UZ(3,"br"),r.qZA(),r.YNc(4,g,2,0,"div",2)),2&e&&(r.xp6(1),r.Q6J("ngIf",t.patient),r.xp6(3),r.Q6J("ngIf",!t.patient))},directives:[l.O5],pipes:[l.i8,d.e],styles:[".details-image[_ngcontent-%COMP%]{height:100px;width:100px;margin-top:10px}"]}),e})();var u=n(3845),Z=n(5053),f=n(1462);const m=["patientForm"];function h(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",23),r._uU(1,"Delete Patient?\xa0\xa0 "),r.TgZ(2,"button",24),r.NdJ("click",function(t){return r.CHM(e),r.oxw(2).delete(t)}),r._uU(3,"Yes"),r.qZA(),r._uU(4,"\xa0\xa0 "),r.TgZ(5,"button",25),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).deleteMessageEnabled=!1}),r._uU(6,"No"),r.qZA(),r.qZA()}}function v(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",24),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).deleteMessageEnabled=!0}),r._uU(1,"Delete"),r.qZA()}}function A(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",26),r.TgZ(1,"button",25),r.NdJ("click",function(t){return r.CHM(e),r.oxw(2).cancel(t)}),r._uU(2,"Cancel"),r.qZA(),r._uU(3,"\xa0\xa0 "),r.TgZ(4,"button",27),r._uU(5),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2),t=r.MAs(2);r.xp6(4),r.Q6J("disabled",t.pristine||!t.valid),r.xp6(1),r.Oqu(e.operationText)}}function b(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,h,7,0,"div",20),r.YNc(2,v,2,0,"button",21),r._uU(3,"\xa0\xa0 "),r.YNc(4,A,6,2,"div",22),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",e.patient.patientID&&e.deleteMessageEnabled),r.xp6(1),r.Q6J("ngIf",e.patient.patientID&&!e.deleteMessageEnabled),r.xp6(2),r.Q6J("ngIf",!e.deleteMessageEnabled)}}function M(e,t){if(1&e&&(r.TgZ(0,"div",28),r._uU(1),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Oqu(e.errorMessage)}}let q=(()=>{class e{constructor(e,t,n,i,a){this.router=e,this.route=t,this.dataService=n,this.notifier=i,this.modalService=a,this.patient={firstName:"",lastName:"",gender:"",address:"",age:0,email:"",mobile:"",doctorID:"",patientID:"0"},this.operationText="Insert"}ngOnInit(){this.route.parent.params.subscribe(e=>{let t=e.patientID;console.log("patientID Edit onInit()",t),console.log("patientID Type",typeof t),"0"!==t&&(this.operationText="Update",this.getPatient(t))})}getPatient(e){this.dataService.getPatient(e).subscribe(e=>{this.patient=e})}submit(){console.log("Edit Submit patientID",this.patient.patientID),"0"===this.patient.patientID?(console.log("Patient id 0",this.patient),this.dataService.insertPatient(this.patient).subscribe(e=>{if(e)this.patientForm.form.markAsPristine(),this.router.navigate(["/patients"]);else{const e="Unable to insert patient";this.notifier.notif(e,u.C.Danger),this.errorMessage=e}},e=>console.log(e))):this.dataService.updatePatient(this.patient).subscribe(e=>{if(console.log("Update Success:",e),e)this.patientForm.form.markAsPristine(),this.notifier.notif("Operation performed successfully.",u.C.Success),this.router.navigate(["/patients",this.patient.patientID,"details"]);else{const e="Unable to update patient";this.notifier.notif(e,u.C.Danger),this.errorMessage=e}},e=>console.log(e))}cancel(e){e.preventDefault(),this.router.navigate(["/patients"])}delete(e){e.preventDefault(),this.dataService.deletePatient(this.patient.doctorID,this.patient.patientID).subscribe(e=>{e?this.router.navigate(["/patients"]):this.errorMessage="Unable to delete patient"},e=>console.log(e))}canDeactivate(){return!this.patientForm.dirty||this.modalService.show({header:"Lose Unsaved Changes?",body:"You have unsaved changes! Would you like to leave the page and lose them?",cancelButtonText:"Cancel",OKButtonText:"Leave"})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(a.F0),r.Y36(a.gz),r.Y36(s.D),r.Y36(u.B),r.Y36(Z.Z))},e.\u0275cmp=r.Xpm({type:e,selectors:[["cm-patient-edit"]],viewQuery:function(e,t){if(1&e&&r.Gf(m,7),2&e){let e;r.iGM(e=r.CRH())&&(t.patientForm=e.first)}},decls:55,vars:16,consts:[["novalidate","",1,"patient-form",3,"ngSubmit"],["patientForm","ngForm"],[1,"form-group"],["type","text","name","firstName","required","",1,"form-control",3,"ngModel","ngModelChange"],["firstName","ngModel"],[1,"alert","alert-danger",3,"hidden"],["type","text","name","lastName","required","",1,"form-control",3,"ngModel","ngModelChange"],["lastName","ngModel"],["type","text","name","age","required","",1,"form-control",3,"ngModel","ngModelChange"],["age","ngModel"],["type","text","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["type","text","name","mobile","required","",1,"form-control",3,"ngModel","ngModelChange"],["mobile","ngModel"],["type","text","name","gender","required","",1,"form-control",3,"ngModel","ngModelChange"],["gender","ngModel"],["type","text","name","address","required","",1,"form-control",3,"ngModel","ngModelChange"],["address","ngModel"],[4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","pull-right",4,"ngIf"],[1,"alert","alert-warning"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-default",3,"click"],[1,"pull-right"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"alert","alert-danger"]],template:function(e,t){if(1&e&&(r.TgZ(0,"div"),r.TgZ(1,"form",0,1),r.NdJ("ngSubmit",function(){return t.submit()}),r.TgZ(3,"div",2),r.TgZ(4,"label"),r._uU(5,"First Name"),r.qZA(),r.TgZ(6,"input",3,4),r.NdJ("ngModelChange",function(e){return t.patient.firstName=e}),r.qZA(),r.TgZ(8,"div",5),r._uU(9,"First Name is required"),r.qZA(),r.qZA(),r.TgZ(10,"div",2),r.TgZ(11,"label"),r._uU(12,"Last Name"),r.qZA(),r.TgZ(13,"input",6,7),r.NdJ("ngModelChange",function(e){return t.patient.lastName=e}),r.qZA(),r.TgZ(15,"div",5),r._uU(16,"Last Name is required"),r.qZA(),r.qZA(),r.TgZ(17,"div",2),r.TgZ(18,"label"),r._uU(19,"Age"),r.qZA(),r.TgZ(20,"input",8,9),r.NdJ("ngModelChange",function(e){return t.patient.age=e}),r.qZA(),r.TgZ(22,"div",5),r._uU(23,"Age is required"),r.qZA(),r.qZA(),r.TgZ(24,"div",2),r.TgZ(25,"label"),r._uU(26,"Email"),r.qZA(),r.TgZ(27,"input",10,11),r.NdJ("ngModelChange",function(e){return t.patient.email=e}),r.qZA(),r.TgZ(29,"div",5),r._uU(30,"Email is required"),r.qZA(),r.qZA(),r.TgZ(31,"div",2),r.TgZ(32,"label"),r._uU(33,"Mobile Number"),r.qZA(),r.TgZ(34,"input",12,13),r.NdJ("ngModelChange",function(e){return t.patient.mobile=e}),r.qZA(),r.TgZ(36,"div",5),r._uU(37,"Mobile Number is required"),r.qZA(),r.qZA(),r.TgZ(38,"div",2),r.TgZ(39,"label"),r._uU(40,"Gender"),r.qZA(),r.TgZ(41,"input",14,15),r.NdJ("ngModelChange",function(e){return t.patient.gender=e}),r.qZA(),r.TgZ(43,"div",5),r._uU(44,"Gender is required"),r.qZA(),r.qZA(),r.TgZ(45,"div",2),r.TgZ(46,"label"),r._uU(47,"Address"),r.qZA(),r.TgZ(48,"input",16,17),r.NdJ("ngModelChange",function(e){return t.patient.address=e}),r.qZA(),r.TgZ(50,"div",5),r._uU(51,"Address is required"),r.qZA(),r.qZA(),r.YNc(52,b,5,3,"div",18),r.YNc(53,M,2,1,"div",19),r.qZA(),r._UZ(54,"br"),r.qZA()),2&e){const e=r.MAs(7),n=r.MAs(14),i=r.MAs(21),a=r.MAs(28),o=r.MAs(35),s=r.MAs(42),l=r.MAs(49);r.xp6(6),r.Q6J("ngModel",t.patient.firstName),r.xp6(2),r.Q6J("hidden",e.pristine||e.valid),r.xp6(5),r.Q6J("ngModel",t.patient.lastName),r.xp6(2),r.Q6J("hidden",n.pristine||n.valid),r.xp6(5),r.Q6J("ngModel",t.patient.age),r.xp6(2),r.Q6J("hidden",i.pristine||i.valid),r.xp6(5),r.Q6J("ngModel",t.patient.email),r.xp6(2),r.Q6J("hidden",a.pristine||a.valid),r.xp6(5),r.Q6J("ngModel",t.patient.mobile),r.xp6(2),r.Q6J("hidden",o.pristine||o.valid),r.xp6(5),r.Q6J("ngModel",t.patient.gender),r.xp6(2),r.Q6J("hidden",s.pristine||s.valid),r.xp6(5),r.Q6J("ngModel",t.patient.address),r.xp6(2),r.Q6J("hidden",l.pristine||l.valid),r.xp6(2),r.Q6J("ngIf",t.patient),r.xp6(1),r.Q6J("ngIf",null!=t.errorMessage)}},directives:[f._Y,f.JL,f.F,f.Fj,f.Q7,f.JJ,f.On,l.O5],styles:[".patient-form[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .patient-form[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .patient-form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .patient-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%}.patient-form[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%]{border-left:5px solid #a94442}.patient-form[_ngcontent-%COMP%]   .ng-valid[_ngcontent-%COMP%]{border-left:5px solid #42a948}"]}),e})();var _=n(3796);let T=(()=>{class e{constructor(e,t){this.authService=e,this.router=t}canActivate(e,t){return!!this.authService.isAuthenticated||(this.authService.redirectUrl=t.url,console.log("state url",t.url),this.router.navigate(["/login"]),!1)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(_.e),r.LFG(a.F0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),U=(()=>{class e{constructor(){}canDeactivate(e,t,n){return console.log(`PatientId: ${t.parent.params.id} URL: ${n.url}`),e.canDeactivate()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const x=[{path:"",component:o,children:[{path:"details",component:p},{path:"edit",component:q,canActivate:[T],canDeactivate:[U]}]}];let C=(()=>{class e{}return e.components=[o,p,q],e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[T,U],imports:[[a.Bz.forChild(x)],a.Bz]}),e})(),N=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[C,i.m]]}),e})()}}]);