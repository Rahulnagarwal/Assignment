(self.webpackChunkdoctors_portal=self.webpackChunkdoctors_portal||[]).push([[101],{101:function(t,e,n){"use strict";n.r(e),n.d(e,{PatientsModule:function(){return S}});var i=n(9635),a=n(9393),r=n(7368),s=n(9960),o=n(6003),c=n(1462);let g=(()=>{class t{constructor(){this.model={filter:null},this.changed=new r.vpe}filterChanged(t){t.preventDefault(),this.changed.emit(this.model.filter),console.log("filterchanged emit",this.model.filter)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["cm-filter-textbox"]],outputs:{changed:"changed"},decls:3,vars:1,consts:[["type","text","name","filter",3,"ngModel","ngModelChange","keyup"]],template:function(t,e){1&t&&(r.TgZ(0,"form"),r._uU(1," Filter: "),r.TgZ(2,"input",0),r.NdJ("ngModelChange",function(t){return e.model.filter=t})("keyup",function(t){return e.filterChanged(t)}),r.qZA(),r.qZA()),2&t&&(r.xp6(2),r.Q6J("ngModel",e.model.filter))},directives:[c._Y,c.JL,c.F,c.Fj,c.JJ,c.On],styles:["cm-filter-textbox[_ngcontent-%COMP%]{margin-top:15px}"]}),t})();var d=n(3241),l=n(1116),p=n(8927);const u=function(t){return["/patients",t,"details"]},h=function(t){return["/patients",t,"edit"]};function Z(t,e){if(1&t&&(r.TgZ(0,"div",4),r.TgZ(1,"div",5),r.TgZ(2,"div",6),r.TgZ(3,"a",7),r._uU(4),r.ALo(5,"capitalize"),r.ALo(6,"capitalize"),r.qZA(),r.TgZ(7,"a",8),r._UZ(8,"i",9),r.qZA(),r.qZA(),r.TgZ(9,"div",10),r.TgZ(10,"div",11),r.TgZ(11,"div",12),r.TgZ(12,"a",13),r._UZ(13,"img",14),r.ALo(14,"lowercase"),r.qZA(),r.qZA(),r.TgZ(15,"div",15),r.TgZ(16,"div",16),r._uU(17),r._UZ(18,"br"),r._uU(19),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(3),r.Q6J("routerLink",r.VKq(13,u,t.patientID)),r.xp6(1),r.AsE(" ",r.lcZ(5,7,t.firstName)," ",r.lcZ(6,9,t.lastName)," "),r.xp6(3),r.Q6J("routerLink",r.VKq(15,h,t.patientID)),r.xp6(6),r.MGl("src","assets/images/",r.lcZ(14,11,t.gender),".png",r.LSH),r.xp6(4),r.hij(" Age: ",t.age,""),r.xp6(2),r.hij(" Add: ",t.address," ")}}function f(t,e){1&t&&(r.TgZ(0,"div"),r._uU(1," No Records Found "),r.qZA())}let m=(()=>{class t{constructor(t){this.trackbyService=t,this.patients=[]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(d.v))},t.\u0275cmp=r.Xpm({type:t,selectors:[["cm-patients-card"]],inputs:{patients:"patients"},decls:4,vars:3,consts:[[1,"container"],[1,"row","card-container"],["class","col-sm-6 col-md-4 col-lg-3",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"col-sm-6","col-md-4","col-lg-3"],[1,"card"],[1,"card-header"],[1,"white",3,"routerLink"],[3,"routerLink"],["title","Edit",1,"pull-right","glyphicon","glyphicon-edit","edit-icon","white"],[1,"card-body"],[1,"clearfix",2,"margin-top","10px"],[1,"pull-left","card-body-left"],["href","#",1,"white"],[1,"card-image",3,"src"],[1,"pull-left","card-body-right"],[1,"card-body-content",2,"width","120px","overflow","hidden"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.YNc(2,Z,20,17,"div",2),r.YNc(3,f,2,0,"div",3),r.qZA(),r.qZA()),2&t&&(r.xp6(2),r.Q6J("ngForOf",e.patients)("ngForTrackBy",e.trackbyService.patient),r.xp6(1),r.Q6J("ngIf",!e.patients.length))},directives:[l.sg,l.O5,a.yS],pipes:[p.e,l.i8],styles:[".card-container[_ngcontent-%COMP%]{width:85%}.card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #d4d4d4;height:120px;margin-bottom:20px;position:relative}.card-header[_ngcontent-%COMP%]{background-color:#f402e8;font-size:14pt;color:#fff;padding:5px;width:100%}.card-close[_ngcontent-%COMP%]{color:#fff;font-weight:700;margin-right:5px}.card-body[_ngcontent-%COMP%]{padding-left:5px}.card-body-left[_ngcontent-%COMP%]{margin-top:-5px}.card-body-right[_ngcontent-%COMP%]{margin-left:20px;margin-top:2px}.card-body-content[_ngcontent-%COMP%]{width:150px;height:60px}.card-image[_ngcontent-%COMP%]{height:50px;width:50px;margin-top:10px}.white[_ngcontent-%COMP%], .white[_ngcontent-%COMP%]:hover{color:#fff}"],changeDetection:0}),t})();var v=n(2084);let A=(()=>{class t{constructor(){this.sorted=new r.vpe}set sortBy(t){this.sortProperty=t}onClick(){event.preventDefault(),this.sorted.next(this.sortProperty)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","cmSortBy",""]],hostBindings:function(t,e){1&t&&r.NdJ("click",function(){return e.onClick()})},inputs:{sortBy:["cmSortBy","sortBy"]},outputs:{sorted:"sorted"}}),t})(),P=(()=>{class t{transform(t){return t?t.trim():""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Yjl({name:"trim",type:t,pure:!0}),t})();const _=function(t){return["/patients",t,"details"]};function T(t,e){if(1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"td"),r._UZ(2,"img",12),r.ALo(3,"lowercase"),r.qZA(),r.TgZ(4,"td"),r.TgZ(5,"a",13),r._uU(6),r.ALo(7,"capitalize"),r.qZA(),r.qZA(),r.TgZ(8,"td"),r._uU(9),r.ALo(10,"capitalize"),r.qZA(),r.TgZ(11,"td"),r._uU(12),r.qZA(),r.TgZ(13,"td"),r._uU(14),r.ALo(15,"trim"),r.qZA(),r.TgZ(16,"td"),r._uU(17),r.ALo(18,"trim"),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(2),r.MGl("src","assets/images/",r.lcZ(3,7,t.gender),".png",r.LSH),r.xp6(3),r.Q6J("routerLink",r.VKq(17,_,t.patientID)),r.xp6(1),r.Oqu(r.lcZ(7,9,t.firstName)),r.xp6(3),r.Oqu(r.lcZ(10,11,t.lastName)),r.xp6(3),r.Oqu(t.age),r.xp6(2),r.Oqu(r.lcZ(15,13,t.gender)),r.xp6(3),r.Oqu(r.lcZ(18,15,t.address))}}function q(t,e){1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2,"\xa0"),r.qZA(),r.TgZ(3,"td",14),r._uU(4,"No Records Found"),r.qZA(),r.qZA())}let y=(()=>{class t{constructor(t,e){this.sorterService=t,this.trackbyService=e,this.patients=[]}ngOnInit(){}sort(t){this.patients=this.sorterService.sort(this.patients,t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(v.X),r.Y36(d.v))},t.\u0275cmp=r.Xpm({type:t,selectors:[["cm-patients-grid"]],inputs:{patients:"patients"},decls:24,vars:3,consts:[[1,"container"],[1,"row","grid-container"],[1,"col-md-10"],[1,"table"],[1,"table","table-striped","table-hover"],["cmSortBy","firstName",3,"sorted"],["cmSortBy","lastName",3,"sorted"],["cmSortBy","age",3,"sorted"],["cmSortBy","gender",3,"sorted"],["cmSortBy","address",3,"sorted"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["alt","Patient Image",1,"grid-image",3,"src"],[3,"routerLink"],["colspan","7"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"table",4),r.TgZ(5,"thead"),r.TgZ(6,"tr"),r.TgZ(7,"th"),r._uU(8,"\xa0"),r.qZA(),r.TgZ(9,"th",5),r.NdJ("sorted",function(t){return e.sort(t)}),r._uU(10,"First Name"),r.qZA(),r.TgZ(11,"th",6),r.NdJ("sorted",function(t){return e.sort(t)}),r._uU(12,"Last Name"),r.qZA(),r.TgZ(13,"th",7),r.NdJ("sorted",function(t){return e.sort(t)}),r._uU(14,"Age"),r.qZA(),r.TgZ(15,"th",8),r.NdJ("sorted",function(t){return e.sort(t)}),r._uU(16,"Gender"),r.qZA(),r.TgZ(17,"th",9),r.NdJ("sorted",function(t){return e.sort(t)}),r._uU(18,"Address"),r.qZA(),r.TgZ(19,"th"),r._uU(20,"\xa0"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(21,"tbody"),r.YNc(22,T,19,19,"tr",10),r.YNc(23,q,5,0,"tr",11),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(22),r.Q6J("ngForOf",e.patients)("ngForTrackBy",e.trackbyService.patient),r.xp6(1),r.Q6J("ngIf",!e.patients.length))},directives:[A,l.sg,l.O5,a.yS],pipes:[l.i8,p.e,P],styles:[".grid-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-left:0}.grid-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.grid-image[_ngcontent-%COMP%]{height:50px;width:50px;margin-top:5px}"],changeDetection:0}),t})();function C(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"li",2),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().changePage(e)}),r.TgZ(1,"a"),r._uU(2),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit,n=r.oxw();r.ekj("active",n.currentPage===t),r.xp6(2),r.hij(" ",t," ")}}let x=(()=>{class t{constructor(){this.pages=[],this.currentPage=1,this.isVisible=!1,this.previousEnabled=!1,this.nextEnabled=!0,this.pageChanged=new r.vpe}get pageSize(){return this.pagerPageSize}set pageSize(t){this.pagerPageSize=t,this.update()}get totalItems(){return this.pagerTotalItems}set totalItems(t){this.pagerTotalItems=t,this.update()}ngOnInit(){}update(){if(this.pagerTotalItems&&this.pagerPageSize){if(this.totalPages=Math.ceil(this.pagerTotalItems/this.pageSize),this.isVisible=!0,this.totalItems>=this.pageSize)for(let t=1;t<this.totalPages+1;t++)this.pages.push(t)}else this.isVisible=!1}previousNext(t){let e=this.currentPage;-1===t?e>1&&e--:e<this.totalPages&&e++,this.changePage(e)}changePage(t){event&&event.preventDefault(),this.currentPage!==t&&(this.currentPage=t,this.previousEnabled=this.currentPage>1,this.nextEnabled=this.currentPage<this.totalPages,this.pageChanged.emit(t))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["cm-pagination"]],inputs:{pageSize:"pageSize",totalItems:"totalItems"},outputs:{pageChanged:"pageChanged"},decls:11,vars:6,consts:[[3,"hidden"],[1,"pagination"],[3,"click"],["aria-label","Previous"],["aria-hidden","true"],[3,"active","click",4,"ngFor","ngForOf"],["aria-label","Next"]],template:function(t,e){1&t&&(r.TgZ(0,"nav",0),r.TgZ(1,"ul",1),r.TgZ(2,"li",2),r.NdJ("click",function(){return e.previousNext(-1)}),r.TgZ(3,"a",3),r.TgZ(4,"span",4),r._uU(5,"\xab"),r.qZA(),r.qZA(),r.qZA(),r.YNc(6,C,3,3,"li",5),r.TgZ(7,"li",2),r.NdJ("click",function(){return e.previousNext(1)}),r.TgZ(8,"a",6),r.TgZ(9,"span",4),r._uU(10,"\xbb"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.Q6J("hidden",!e.isVisible),r.xp6(2),r.ekj("disabled",!e.previousEnabled),r.xp6(4),r.Q6J("ngForOf",e.pages),r.xp6(1),r.ekj("disabled",!e.nextEnabled))},directives:[l.sg],styles:[".pagination[_ngcontent-%COMP%] > .active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%] > .active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus, .pagination[_ngcontent-%COMP%] > .active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover, .pagination[_ngcontent-%COMP%] > .active[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%] > .active[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:focus, .pagination[_ngcontent-%COMP%] > .active[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:hover{background-color:#e755e0;border-color:#e755e0}.pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}"]}),t})(),M=(()=>{class t{constructor(t,e,n){this.componentFactoryResolver=t,this.dataService=e,this.filterService=n,this.patients=[],this.displayModeEnum=O,this.totalRecords=0,this.pageSize=2,this._filteredPatients=[],this.getPatientsPage(1)}get filteredPatients(){return this._filteredPatients}set filteredPatients(t){this._filteredPatients=t}ngOnInit(){this.title="Patients",this.filterText="Filter Patients:",this.displayMode=O.Card}changeDisplayMode(t){this.displayMode=t}pageChanged(t){this.getPatientsPage(t)}getPatientsPage(t){this.dataService.getPatientsPage((t-1)*this.pageSize,this.pageSize).subscribe(t=>{this.patients=this.filteredPatients=t.results,this.totalRecords=t.totalRecords,console.log("Component: Patients:",this.patients),console.log("Component: Count:",this.totalRecords)},t=>console.log(t),()=>console.log("getPatientsPage() retrieved patients for page: "+t))}filterChanged(t){t&&this.patients?(t=t.toUpperCase(),this.filteredPatients=this.filterService.filter(this.patients,t,["firstName","lastName","mobile","email","address"])):this.filteredPatients=this.patients}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r._Vd),r.Y36(s.D),r.Y36(o.i))},t.\u0275cmp=r.Xpm({type:t,selectors:[["cm-patients"]],decls:27,vars:11,consts:[[1,"patients","view","indent"],[1,"container"],[1,"glyphicon","glyphicon-user"],[1,"row"],[1,"col-md-10"],[1,"navbar"],[1,"nav","navbar-nav"],[1,"toolbar-item"],[3,"click"],[1,"glyphicon","glyphicon-th-large"],[1,"glyphicon","glyphicon-align-justify"],["routerLink","/patients/0/edit"],[1,"glyphicon","glyphicon-plus"],[1,"navbar-right",3,"changed"],[3,"patients","hidden"],[3,"totalItems","pageSize","pageChanged"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"header"),r.TgZ(3,"h3"),r._UZ(4,"span",2),r._uU(5),r.qZA(),r.qZA(),r._UZ(6,"br"),r.TgZ(7,"div",3),r.TgZ(8,"div",4),r.TgZ(9,"div",5),r.TgZ(10,"ul",6),r.TgZ(11,"li",7),r.TgZ(12,"a",8),r.NdJ("click",function(){return e.changeDisplayMode(e.displayModeEnum.Card)}),r._UZ(13,"span",9),r._uU(14," Card View "),r.qZA(),r.qZA(),r.TgZ(15,"li",7),r.TgZ(16,"a",8),r.NdJ("click",function(){return e.changeDisplayMode(e.displayModeEnum.Grid)}),r._UZ(17,"span",10),r._uU(18," List View "),r.qZA(),r.qZA(),r.TgZ(19,"li",7),r.TgZ(20,"a",11),r._UZ(21,"span",12),r._uU(22," New Patient "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(23,"cm-filter-textbox",13),r.NdJ("changed",function(t){return e.filterChanged(t)}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r._UZ(24,"cm-patients-card",14),r._UZ(25,"cm-patients-grid",14),r.TgZ(26,"cm-pagination",15),r.NdJ("pageChanged",function(t){return e.pageChanged(t)}),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(5),r.hij(" ",e.title," "),r.xp6(7),r.ekj("active",e.displayMode===e.displayModeEnum.Card),r.xp6(4),r.ekj("active",e.displayMode===e.displayModeEnum.Grid),r.xp6(8),r.Q6J("patients",e.filteredPatients)("hidden",e.displayMode!==e.displayModeEnum.Card),r.xp6(1),r.Q6J("patients",e.filteredPatients)("hidden",e.displayMode!==e.displayModeEnum.Grid),r.xp6(1),r.Q6J("totalItems",e.totalRecords)("pageSize",e.pageSize))},directives:[a.yS,g,m,y,x],encapsulation:2}),t})();var O=function(t){return t[t.Card=0]="Card",t[t.Grid=1]="Grid",t}({});const b=[{path:"",component:M}];let k=(()=>{class t{}return t.components=[M,m,y],t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[a.Bz.forChild(b)],a.Bz]}),t})(),S=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[k,i.m]]}),t})()}}]);