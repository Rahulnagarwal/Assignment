!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}(self.webpackChunkdoctors_portal=self.webpackChunkdoctors_portal||[]).push([[826],{3826:function(t,i,a){"use strict";a.r(i),a.d(i,{PatientModule:function(){return I}});var r=a(9635),o=a(9393),s=a(7368),u=function(){var t=function(){function t(n){e(this,t),this.router=n}return n(t,[{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)(s.Y36(o.F0))},t.\u0275cmp=s.Xpm({type:t,selectors:[["cm-patiet-details"]],decls:23,vars:0,consts:[[1,"fees","view"],[1,"container"],[1,"glyphicon","glyphicon-user"],[1,"navbar"],[1,"nav","navbar-nav"],[1,"toolbar-item"],["routerLink","details","routerLinkActive","active"],[1,"glyphicon","glyphicon-list"],["routerLink","edit","routerLinkActive","active"],[1,"glyphicon","glyphicon-edit"],["routerLink","/patients"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"header"),s.TgZ(3,"h3"),s._UZ(4,"span",2),s._uU(5,"\xa0\xa0Patient Information"),s.qZA(),s.qZA(),s._UZ(6,"br"),s.TgZ(7,"div",3),s.TgZ(8,"ul",4),s.TgZ(9,"li",5),s.TgZ(10,"a",6),s._UZ(11,"span",7),s._uU(12,"\xa0\xa0Patient Details "),s.qZA(),s.qZA(),s.TgZ(13,"li",5),s.TgZ(14,"a",8),s._UZ(15,"span",9),s._uU(16,"\xa0\xa0Edit Patient "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(17,"div",1),s._UZ(18,"router-outlet"),s._UZ(19,"br"),s._UZ(20,"br"),s.TgZ(21,"a",10),s._uU(22,"View all Patients"),s.qZA(),s.qZA(),s.qZA(),s.qZA())},directives:[o.yS,o.Od,o.lC],encapsulation:2}),t}(),l=a(9960),c=a(1116),d=a(8927);function g(e,t){if(1&e&&(s.TgZ(0,"div",3),s.TgZ(1,"div",4),s._UZ(2,"img",5),s.ALo(3,"lowercase"),s.qZA(),s.TgZ(4,"div",6),s.TgZ(5,"h4"),s._uU(6),s.ALo(7,"capitalize"),s.ALo(8,"capitalize"),s.qZA(),s._UZ(9,"br"),s._uU(10),s._UZ(11,"br"),s._uU(12),s._UZ(13,"br"),s._uU(14),s._UZ(15,"br"),s._uU(16),s.qZA(),s.qZA()),2&e){var n=s.oxw();s.xp6(2),s.MGl("src","assets/images/",s.lcZ(3,7,n.patient.gender),".png",s.LSH),s.xp6(4),s.AsE(" ",s.lcZ(7,9,n.patient.firstName)," ",s.lcZ(8,11,n.patient.lastName),"\xa0 "),s.xp6(4),s.hij(" Age: ",n.patient.age," "),s.xp6(2),s.hij(" Mobile Number: ",n.patient.mobile," "),s.xp6(2),s.hij(" Email: ",n.patient.email," "),s.xp6(2),s.hij(" Address: ",n.patient.address," ")}}function p(e,t){1&e&&(s.TgZ(0,"div",0),s._uU(1," No patient found\n"),s.qZA())}var f=function(){var t=function(){function t(n,i,a){e(this,t),this.route=n,this.dataService=i,this.componentFactoryResolver=a}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.route.parent.params.subscribe(function(t){var n=t.patientID;console.log("PatientID",n),n&&e.dataService.getPatient(n).subscribe(function(t){e.patient=t})})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(s.Y36(o.gz),s.Y36(l.D),s.Y36(s._Vd))},t.\u0275cmp=s.Xpm({type:t,selectors:[["cm-patient-details"]],decls:5,vars:2,consts:[[1,"container"],["class","row",4,"ngIf"],["class","container",4,"ngIf"],[1,"row"],[1,"col-md-2"],[1,"details-image",3,"src"],[1,"col-md-10"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.YNc(1,g,17,13,"div",1),s._UZ(2,"br"),s._UZ(3,"br"),s.qZA(),s.YNc(4,p,2,0,"div",2)),2&e&&(s.xp6(1),s.Q6J("ngIf",t.patient),s.xp6(3),s.Q6J("ngIf",!t.patient))},directives:[c.O5],pipes:[c.i8,d.e],styles:[".details-image[_ngcontent-%COMP%]{height:100px;width:100px;margin-top:10px}"]}),t}(),v=a(3845),Z=a(5053),m=a(1462),h=["patientForm"];function b(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"div",23),s._uU(1,"Delete Patient?\xa0\xa0 "),s.TgZ(2,"button",24),s.NdJ("click",function(e){return s.CHM(n),s.oxw(2).delete(e)}),s._uU(3,"Yes"),s.qZA(),s._uU(4,"\xa0\xa0 "),s.TgZ(5,"button",25),s.NdJ("click",function(){return s.CHM(n),s.oxw(2).deleteMessageEnabled=!1}),s._uU(6,"No"),s.qZA(),s.qZA()}}function A(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"button",24),s.NdJ("click",function(){return s.CHM(n),s.oxw(2).deleteMessageEnabled=!0}),s._uU(1,"Delete"),s.qZA()}}function M(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"div",26),s.TgZ(1,"button",25),s.NdJ("click",function(e){return s.CHM(n),s.oxw(2).cancel(e)}),s._uU(2,"Cancel"),s.qZA(),s._uU(3,"\xa0\xa0 "),s.TgZ(4,"button",27),s._uU(5),s.qZA(),s.qZA()}if(2&e){var i=s.oxw(2),a=s.MAs(2);s.xp6(4),s.Q6J("disabled",a.pristine||!a.valid),s.xp6(1),s.Oqu(i.operationText)}}function q(e,t){if(1&e&&(s.TgZ(0,"div"),s.YNc(1,b,7,0,"div",20),s.YNc(2,A,2,0,"button",21),s._uU(3,"\xa0\xa0 "),s.YNc(4,M,6,2,"div",22),s.qZA()),2&e){var n=s.oxw();s.xp6(1),s.Q6J("ngIf",n.patient.patientID&&n.deleteMessageEnabled),s.xp6(1),s.Q6J("ngIf",n.patient.patientID&&!n.deleteMessageEnabled),s.xp6(2),s.Q6J("ngIf",!n.deleteMessageEnabled)}}function _(e,t){if(1&e&&(s.TgZ(0,"div",28),s._uU(1),s.qZA()),2&e){var n=s.oxw();s.xp6(1),s.Oqu(n.errorMessage)}}var T,U=function(){var t=function(){function t(n,i,a,r,o){e(this,t),this.router=n,this.route=i,this.dataService=a,this.notifier=r,this.modalService=o,this.patient={firstName:"",lastName:"",gender:"",address:"",age:0,email:"",mobile:"",doctorID:"",patientID:"0"},this.operationText="Insert"}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.route.parent.params.subscribe(function(t){var n=t.patientID;console.log("patientID Edit onInit()",n),console.log("patientID Type",typeof n),"0"!==n&&(e.operationText="Update",e.getPatient(n))})}},{key:"getPatient",value:function(e){var t=this;this.dataService.getPatient(e).subscribe(function(e){t.patient=e})}},{key:"submit",value:function(){var e=this;console.log("Edit Submit patientID",this.patient.patientID),"0"===this.patient.patientID?(console.log("Patient id 0",this.patient),this.dataService.insertPatient(this.patient).subscribe(function(t){if(t)e.patientForm.form.markAsPristine(),e.router.navigate(["/patients"]);else{var n="Unable to insert patient";e.notifier.notif(n,v.C.Danger),e.errorMessage=n}},function(e){return console.log(e)})):this.dataService.updatePatient(this.patient).subscribe(function(t){if(console.log("Update Success:",t),t)e.patientForm.form.markAsPristine(),e.notifier.notif("Operation performed successfully.",v.C.Success),e.router.navigate(["/patients",e.patient.patientID,"details"]);else{var n="Unable to update patient";e.notifier.notif(n,v.C.Danger),e.errorMessage=n}},function(e){return console.log(e)})}},{key:"cancel",value:function(e){e.preventDefault(),this.router.navigate(["/patients"])}},{key:"delete",value:function(e){var t=this;e.preventDefault(),this.dataService.deletePatient(this.patient.doctorID,this.patient.patientID).subscribe(function(e){e?t.router.navigate(["/patients"]):t.errorMessage="Unable to delete patient"},function(e){return console.log(e)})}},{key:"canDeactivate",value:function(){return!this.patientForm.dirty||this.modalService.show({header:"Lose Unsaved Changes?",body:"You have unsaved changes! Would you like to leave the page and lose them?",cancelButtonText:"Cancel",OKButtonText:"Leave"})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(s.Y36(o.F0),s.Y36(o.gz),s.Y36(l.D),s.Y36(v.B),s.Y36(Z.Z))},t.\u0275cmp=s.Xpm({type:t,selectors:[["cm-patient-edit"]],viewQuery:function(e,t){var n;(1&e&&s.Gf(h,7),2&e)&&(s.iGM(n=s.CRH())&&(t.patientForm=n.first))},decls:55,vars:16,consts:[["novalidate","",1,"patient-form",3,"ngSubmit"],["patientForm","ngForm"],[1,"form-group"],["type","text","name","firstName","required","",1,"form-control",3,"ngModel","ngModelChange"],["firstName","ngModel"],[1,"alert","alert-danger",3,"hidden"],["type","text","name","lastName","required","",1,"form-control",3,"ngModel","ngModelChange"],["lastName","ngModel"],["type","text","name","age","required","",1,"form-control",3,"ngModel","ngModelChange"],["age","ngModel"],["type","text","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["type","text","name","mobile","required","",1,"form-control",3,"ngModel","ngModelChange"],["mobile","ngModel"],["type","text","name","gender","required","",1,"form-control",3,"ngModel","ngModelChange"],["gender","ngModel"],["type","text","name","address","required","",1,"form-control",3,"ngModel","ngModelChange"],["address","ngModel"],[4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","pull-right",4,"ngIf"],[1,"alert","alert-warning"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-default",3,"click"],[1,"pull-right"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"alert","alert-danger"]],template:function(e,t){if(1&e&&(s.TgZ(0,"div"),s.TgZ(1,"form",0,1),s.NdJ("ngSubmit",function(){return t.submit()}),s.TgZ(3,"div",2),s.TgZ(4,"label"),s._uU(5,"First Name"),s.qZA(),s.TgZ(6,"input",3,4),s.NdJ("ngModelChange",function(e){return t.patient.firstName=e}),s.qZA(),s.TgZ(8,"div",5),s._uU(9,"First Name is required"),s.qZA(),s.qZA(),s.TgZ(10,"div",2),s.TgZ(11,"label"),s._uU(12,"Last Name"),s.qZA(),s.TgZ(13,"input",6,7),s.NdJ("ngModelChange",function(e){return t.patient.lastName=e}),s.qZA(),s.TgZ(15,"div",5),s._uU(16,"Last Name is required"),s.qZA(),s.qZA(),s.TgZ(17,"div",2),s.TgZ(18,"label"),s._uU(19,"Age"),s.qZA(),s.TgZ(20,"input",8,9),s.NdJ("ngModelChange",function(e){return t.patient.age=e}),s.qZA(),s.TgZ(22,"div",5),s._uU(23,"Age is required"),s.qZA(),s.qZA(),s.TgZ(24,"div",2),s.TgZ(25,"label"),s._uU(26,"Email"),s.qZA(),s.TgZ(27,"input",10,11),s.NdJ("ngModelChange",function(e){return t.patient.email=e}),s.qZA(),s.TgZ(29,"div",5),s._uU(30,"Email is required"),s.qZA(),s.qZA(),s.TgZ(31,"div",2),s.TgZ(32,"label"),s._uU(33,"Mobile Number"),s.qZA(),s.TgZ(34,"input",12,13),s.NdJ("ngModelChange",function(e){return t.patient.mobile=e}),s.qZA(),s.TgZ(36,"div",5),s._uU(37,"Mobile Number is required"),s.qZA(),s.qZA(),s.TgZ(38,"div",2),s.TgZ(39,"label"),s._uU(40,"Gender"),s.qZA(),s.TgZ(41,"input",14,15),s.NdJ("ngModelChange",function(e){return t.patient.gender=e}),s.qZA(),s.TgZ(43,"div",5),s._uU(44,"Gender is required"),s.qZA(),s.qZA(),s.TgZ(45,"div",2),s.TgZ(46,"label"),s._uU(47,"Address"),s.qZA(),s.TgZ(48,"input",16,17),s.NdJ("ngModelChange",function(e){return t.patient.address=e}),s.qZA(),s.TgZ(50,"div",5),s._uU(51,"Address is required"),s.qZA(),s.qZA(),s.YNc(52,q,5,3,"div",18),s.YNc(53,_,2,1,"div",19),s.qZA(),s._UZ(54,"br"),s.qZA()),2&e){var n=s.MAs(7),i=s.MAs(14),a=s.MAs(21),r=s.MAs(28),o=s.MAs(35),u=s.MAs(42),l=s.MAs(49);s.xp6(6),s.Q6J("ngModel",t.patient.firstName),s.xp6(2),s.Q6J("hidden",n.pristine||n.valid),s.xp6(5),s.Q6J("ngModel",t.patient.lastName),s.xp6(2),s.Q6J("hidden",i.pristine||i.valid),s.xp6(5),s.Q6J("ngModel",t.patient.age),s.xp6(2),s.Q6J("hidden",a.pristine||a.valid),s.xp6(5),s.Q6J("ngModel",t.patient.email),s.xp6(2),s.Q6J("hidden",r.pristine||r.valid),s.xp6(5),s.Q6J("ngModel",t.patient.mobile),s.xp6(2),s.Q6J("hidden",o.pristine||o.valid),s.xp6(5),s.Q6J("ngModel",t.patient.gender),s.xp6(2),s.Q6J("hidden",u.pristine||u.valid),s.xp6(5),s.Q6J("ngModel",t.patient.address),s.xp6(2),s.Q6J("hidden",l.pristine||l.valid),s.xp6(2),s.Q6J("ngIf",t.patient),s.xp6(1),s.Q6J("ngIf",null!=t.errorMessage)}},directives:[m._Y,m.JL,m.F,m.Fj,m.Q7,m.JJ,m.On,c.O5],styles:[".patient-form[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .patient-form[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .patient-form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .patient-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%}.patient-form[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%]{border-left:5px solid #a94442}.patient-form[_ngcontent-%COMP%]   .ng-valid[_ngcontent-%COMP%]{border-left:5px solid #42a948}"]}),t}(),x=a(3796),y=function(){var t=function(){function t(n,i){e(this,t),this.authService=n,this.router=i}return n(t,[{key:"canActivate",value:function(e,t){return!!this.authService.isAuthenticated||(this.authService.redirectUrl=t.url,console.log("state url",t.url),this.router.navigate(["/login"]),!1)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(s.LFG(x.e),s.LFG(o.F0))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t}(),C=function(){var t=function(){function t(){e(this,t)}return n(t,[{key:"canDeactivate",value:function(e,t,n){return console.log("PatientId: ".concat(t.parent.params.id," URL: ").concat(n.url)),e.canDeactivate()}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t}(),N=[{path:"",component:u,children:[{path:"details",component:f},{path:"edit",component:U,canActivate:[y],canDeactivate:[C]}]}],J=function(){var t=function t(){e(this,t)};return t.components=[u,f,U],t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[y,C],imports:[[o.Bz.forChild(N)],o.Bz]}),t}(),I=((T=function t(){e(this,t)}).\u0275fac=function(e){return new(e||T)},T.\u0275mod=s.oAB({type:T}),T.\u0275inj=s.cJS({imports:[[J,r.m]]}),T)}}])}();